---
title: "Clients ayant construit avec l'API"
description: "Instructions détaillées sur la façon dont vous pouvez migrer à partir des fonctionnalités que vous utilisez aujourd'hui"
sidebar_label: "Clients utilisant l'API"
createdAt: "2022-10-06T08:32:16.232Z"
updatedAt: "2022-11-10T14:01:08.149Z"
draft: true
---

## Que se passera-t-il lors de la dépréciation?

Les endpoints suivants cesseront de fonctionner :

    GET /data/lending/accounts/categories
    GET /data/companies/{companyId}/connections/{connectionId}/lending/accounts/categories
    GET /data/companies/{companyId}/connections/{connectionId}/lending/accounts/{accountId}/categories
    PATCH /data/companies/{companyId}/connections/{connectionId}/lending/accounts/categories
    PATCH /data/companies/{companyId}/connections/{connectionId}/lending/accounts/{accountId}/categories
    GET /data/companies{companyId}/connections/{connectionId}/lending/enhancedBalanceSheet
    GET /data/companies{companyId}/connections/{connectionId}/lending/enhancedProfitAndLoss
    GET /data/companies/{companyId}/connections/{connectionId}/lending/financialMetrics
    GET /data/companies/{companyId}/connections/{connectionId}/lending/accountingMetrics/marketing

## Instructions pour la migration

1. Mapper vers les nouveaux endpoints
2. Examiner les changements de comportement

### Mapper vers les nouveaux endpoints

Identifiez les endpoints que vous utilisez aujourd'hui et les solutions alternatives recommandées :

| Endpoint actuel                                                                                                                                                                                                                 | Alternative                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [List account categories](/assess-api#/operations/list-available-account-categories)                                                                                                                                            | Les catégories prises en charge ont changé - vous pouvez trouver la dernière liste [ici](/lending/enhanced-financials/overview#accounts-and-account-categories).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [List suggested and confirmed account categories](/assess-api#/operations/list-accounts-categories) <br/><br/> [Get suggested and/or confirmed categories for a specific account](/assess-api#/operations/get-account-category) | Nous ne reproduirons pas cette fonctionnalité dans la dernière version car il est possible qu'un compte ait plus d'une catégorie selon la période financière.<br/>Par exemple, un compte bancaire pourrait avoir un solde positif dans une période et être catégorisé comme un Actif, et un solde négatif en raison d'un découvert dans une autre et donc catégorisé comme un Passif. <br/>Vous pouvez récupérer les catégories par compte et période financière via ces endpoints :<br/>[Enhanced profit and loss accounts](/assess-api#/operations/get-accounts-for-enhanced-profit-and-loss) <br/>[Enhanced balance sheet accounts](/assess-api#/operations/get-accounts-for-enhanced-balance-sheet)                                                                                                                                                                                                                               |
| [Confirm categories for accounts](/assess-api#/operations/update-accounts-categories) <br/><br/> [Confirm account category for a specific account](/assess-api#/operations/update-account-category)                             | Vous pourriez vouloir recatégoriser des comptes afin que le modèle apprenne et s'améliore pour vos entreprises. Pour ce faire :<br/>1. Connectez-vous au portail Codat <br/>2. Sélectionnez une entreprise sur la page **Companies** <br/>3. Cliquez sur le bouton **Categorize Accounts** <br/>4. Assurez-vous que le menu déroulant **Version** en haut à droite est réglé sur _Version 3_ <br/><br/>Nous avons remanié cet écran et inclus de nouvelles fonctionnalités qui simplifient la catégorisation des comptes, y compris le niveau de confiance. <br/><br/> Si vous recatégorisiez parce que le Enhanced Profit and Loss / Balance Sheet n'était pas retourné en raison de comptes non catégorisés, notez que les derniers endpoints n'ont pas cette restriction. <br/>Si vous n'avez pas besoin que le modèle apprenne pour vos entreprises, vous n'avez pas besoin de recatégoriser via Codat et pouvez apporter des modifications dans votre propre environnement. <br/><br/>**Note** : Dans la dernière version, nous ne prenons plus en charge la recatégorisation via l'API. |
| [Enhanced Profit and Loss](/assess-api#/operations/get-enhanced-profit-and-loss)                                                                                                                                                | [Enhanced profit and loss accounts](/assess-api#/operations/get-accounts-for-enhanced-profit-and-loss) <br/>Note : le schéma de réponse a changé.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| [Enhanced Balance sheet](/assess-api#/operations/get-enhanced-balance-sheet)                                                                                                                                                    | [Enhanced balance sheet accounts](/assess-api#/operations/get-accounts-for-enhanced-balance-sheet) <br/>Note : le schéma de réponse a changé.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| [List financial metrics](/assess-api#/operations/get-enhanced-financial-metrics) <br/><br/> [Get the marketing metrics from an accounting source](/assess-api#/operations/get-accounting-marketing-metrics)                     | Nous ne prenons plus en charge les métriques précalculées disponibles sur ces endpoints. Vous pouvez les calculer en utilisant vos propres formules à partir de nos nouveaux endpoints : <br/>[Enhanced profit and loss accounts](/assess-api#/operations/get-accounts-for-enhanced-profit-and-loss) <br/>[Enhanced balance sheet accounts](/assess-api#/operations/get-accounts-for-enhanced-balance-sheet) <br/><br/>Si vous souhaitez continuer à utiliser les mêmes formules pour les métriques précalculées que nous offrions, vous pouvez trouver les formules [ici](https://docs.google.com/spreadsheets/d/1xpyQHOTQWHybOZpSnfXx54tkag0qmJ1mR76bQt9wink/edit?usp=sharing)                                                                                                                                                                                                                                                    |

### Changements de comportement

Les changements de comportement ci-dessous s'appliquent uniquement aux derniers endpoints; le comportement sur les endpoints en cours de dépréciation n'a pas changé.

1. Nos **catégories prises en charge** ont changé - vous devrez mapper vers les [dernières catégories](/lending/enhanced-financials/overview#accounts-and-account-categories).
2. Nous n'exigeons plus que le bilan soit équilibré. Cela signifie que si <i>Actifs - Passifs</i> n'est pas égal à <i>Capitaux propres</i>, nous retournerons quand même des données via l'endpoint. Si vous avez besoin de cette validation, nous vous recommandons d'implémenter ces règles dans votre propre environnement.
3. Le schéma de réponse est passé d'un modèle récursif à une liste plate de comptes par période financière.
4. Nous prenons maintenant en charge <i>jusqu'à</i> 5 niveaux de catégories par compte. Nous remplirons les suggestions au niveau le plus bas pertinent et nous n'exigeons pas que tous les niveaux soient remplis pour retourner une réponse.
5. Le paramètre <i>period length</i> n'est plus pris en charge sur les derniers endpoints **Enhanced profit and loss accounts** et **Enhanced balance sheet accounts**; toutes les données sont retournées par incréments mensuels. Si vous avez besoin que les données soient regroupées par périodes, nous vous recommandons de le faire dans votre propre environnement.
